import { usePathname, useRouter } from "next/navigation";

const tabs = [
  { id: "chart", label: "인기 차트", icon: (    
    <svg
      width={28}
      height={29}
      viewBox="0 0 28 29"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="flex-grow-0 flex-shrink-0 w-7 h-7 relative"
      preserveAspectRatio="xMidYMid meet"
    >
      <path
        d="M14 2.83334C7.56 2.83334 2.33333 8.06001 2.33333 14.5C2.33333 20.94 7.56 26.1667 14 26.1667C20.44 26.1667 25.6667 20.94 25.6667 14.5C25.6667 8.06001 20.44 2.83334 14 2.83334ZM10.8383 19.505L6.64999 15.3167C6.19499 14.8617 6.19499 14.1267 6.64999 13.6717C7.10499 13.2167 7.84 13.2167 8.295 13.6717L11.6667 17.0317L19.6933 9.00501C20.1483 8.55001 20.8833 8.55001 21.3383 9.00501C21.7933 9.46001 21.7933 10.195 21.3383 10.65L12.4833 19.505C12.04 19.96 11.2933 19.96 10.8383 19.505Z"
        fill="currentColor"
      />
    </svg>)
    },
  { id: "analyze", label: "노래 분석하기", icon: (
    <svg
    width={28}
    height={29}
    viewBox="0 0 28 29"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className="flex-grow-0 flex-shrink-0 w-7 h-7 relative"
    preserveAspectRatio="xMidYMid meet"
  >
    <path
      d="M14 2.83334C7.56 2.83334 2.33333 8.06001 2.33333 14.5C2.33333 20.94 7.56 26.1667 14 26.1667C20.44 26.1667 25.6667 20.94 25.6667 14.5C25.6667 8.06001 20.44 2.83334 14 2.83334ZM14 6.33334C15.9367 6.33334 17.5 7.89668 17.5 9.83334C17.5 11.77 15.9367 13.3333 14 13.3333C12.0633 13.3333 10.5 11.77 10.5 9.83334C10.5 7.89668 12.0633 6.33334 14 6.33334ZM14 22.9C11.0833 22.9 8.505 21.4067 7 19.1433C7.035 16.8217 11.6667 15.55 14 15.55C16.3217 15.55 20.965 16.8217 21 19.1433C19.495 21.4067 16.9167 22.9 14 22.9Z"
      fill="currentColor"
    />
  </svg>
  ) },
  { id: "feedback", label: "피드백 리포트", icon: (
    <svg
    width={28}
    height={29}
    viewBox="0 0 28 29"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className="flex-grow-0 flex-shrink-0 w-7 h-7 relative"
    preserveAspectRatio="xMidYMid meet"
  >
    <path
      d="M8.4 21.0333C10.4619 21.0333 12.1333 19.3619 12.1333 17.3C12.1333 15.2381 10.4619 13.5667 8.4 13.5667C6.33814 13.5667 4.66667 15.2381 4.66667 17.3C4.66667 19.3619 6.33814 21.0333 8.4 21.0333Z"
      fill="currentColor"
    />
    <path
      d="M17.2667 23.8333C18.5553 23.8333 19.6 22.7887 19.6 21.5C19.6 20.2113 18.5553 19.1667 17.2667 19.1667C15.978 19.1667 14.9333 20.2113 14.9333 21.5C14.9333 22.7887 15.978 23.8333 17.2667 23.8333Z"
      fill="currentColor"
    />
    <path
      d="M17.7333 16.3667C20.8261 16.3667 23.3333 13.8595 23.3333 10.7667C23.3333 7.67386 20.8261 5.16666 17.7333 5.16666C14.6405 5.16666 12.1333 7.67386 12.1333 10.7667C12.1333 13.8595 14.6405 16.3667 17.7333 16.3667Z"
      fill="currentColor"
    />
  </svg>
  ) },
  { id: "training", label: "보컬 트레이닝", icon: (
    <svg
    width={28}
    height={29}
    viewBox="0 0 28 29"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className="flex-grow-0 flex-shrink-0 w-7 h-7 relative"
    preserveAspectRatio="xMidYMid meet"
  >
    <path
      d="M14 2.83334C12.2208 2.83334 10.5145 3.54011 9.25649 4.79817C7.99843 6.05623 7.29166 7.76252 7.29166 9.54168V13.0417C7.2891 14.7467 7.93587 16.3887 9.1005 17.634C10.2651 18.8792 11.8602 19.6343 13.5616 19.7457C15.263 19.8572 16.9429 19.3166 18.26 18.2338C19.5771 17.1511 20.4325 15.6075 20.6523 13.9167H15.1667C14.9346 13.9167 14.712 13.8245 14.5479 13.6604C14.3839 13.4963 14.2917 13.2737 14.2917 13.0417C14.2917 12.8096 14.3839 12.5871 14.5479 12.423C14.712 12.2589 14.9346 12.1667 15.1667 12.1667H20.7083V10.4167H15.1667C14.9346 10.4167 14.712 10.3245 14.5479 10.1604C14.3839 9.9963 14.2917 9.77374 14.2917 9.54168C14.2917 9.30961 14.3839 9.08705 14.5479 8.92296C14.712 8.75886 14.9346 8.66668 15.1667 8.66668H20.6512C20.4389 7.05295 19.6471 5.57145 18.4234 4.49824C17.1998 3.42503 15.6276 2.83331 14 2.83334Z"
      fill="currentColor"
    />
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M4.66667 11C4.89874 11 5.1213 11.0922 5.28539 11.2563C5.44948 11.4204 5.54167 11.6429 5.54167 11.875V13.0417C5.54167 14.1524 5.76045 15.2523 6.18552 16.2785C6.61059 17.3047 7.23363 18.2372 8.01906 19.0226C8.80449 19.808 9.73693 20.4311 10.7631 20.8561C11.7894 21.2812 12.8892 21.5 14 21.5C15.1108 21.5 16.2107 21.2812 17.2369 20.8561C18.2631 20.4311 19.1955 19.808 19.9809 19.0226C20.7664 18.2372 21.3894 17.3047 21.8145 16.2785C22.2396 15.2523 22.4583 14.1524 22.4583 13.0417V11.875C22.4583 11.6429 22.5505 11.4204 22.7146 11.2563C22.8787 11.0922 23.1013 11 23.3333 11C23.5654 11 23.788 11.0922 23.9521 11.2563C24.1162 11.4204 24.2083 11.6429 24.2083 11.875V13.0417C24.2084 15.5977 23.2496 18.0607 21.5215 19.9439C19.7933 21.8272 17.4216 22.9936 14.875 23.2127V25.875C14.875 26.1071 14.7828 26.3296 14.6187 26.4937C14.4546 26.6578 14.2321 26.75 14 26.75C13.7679 26.75 13.5454 26.6578 13.3813 26.4937C13.2172 26.3296 13.125 26.1071 13.125 25.875V23.2127C10.5784 22.9936 8.20668 21.8272 6.47854 19.9439C4.7504 18.0607 3.79161 15.5977 3.79167 13.0417V11.875C3.79167 11.6429 3.88386 11.4204 4.04795 11.2563C4.21205 11.0922 4.43461 11 4.66667 11Z"
      fill="currentColor"
    />
  </svg>
  ) },
  { id: "ranking", label: "랭킹 & 도전과제", icon: (
    <svg
    width={28}
    height={29}
    viewBox="0 0 28 29"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className="flex-grow-0 flex-shrink-0 w-7 h-7 relative"
    preserveAspectRatio="xMidYMid meet"
  >
    <path
      d="M6 11H6.28571C7.38571 11 8.28571 11.9 8.28571 13V23C8.28571 24.1 7.38571 25 6.28571 25H6C4.9 25 4 24.1 4 23V13C4 11.9 4.9 11 6 11ZM14 5C15.1 5 16 5.9 16 7V23C16 24.1 15.1 25 14 25C12.9 25 12 24.1 12 23V7C12 5.9 12.9 5 14 5ZM22 16.4286C23.1 16.4286 24 17.3286 24 18.4286V23C24 24.1 23.1 25 22 25C20.9 25 20 24.1 20 23V18.4286C20 17.3286 20.9 16.4286 22 16.4286Z"
      fill="currentColor"
    />
  </svg>
  ) },
  { id: "settings", label: "설정", icon: (
    <svg
    width={28}
    height={29}
    viewBox="0 0 28 29"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    className="flex-grow-0 flex-shrink-0 w-7 h-7 relative"
    preserveAspectRatio="xMidYMid meet"
  >
    <path
      d="M17.0937 3H10.9052L10.1953 6.53127C9.60752 6.79316 9.0486 7.11487 8.5275 7.49127L5.09313 6.336L2 11.664L4.72226 14.0422C4.65652 14.6791 4.65652 15.3209 4.72226 15.9578L2 18.336L5.09423 23.664L8.5275 22.5098C9.0454 22.8829 9.6028 23.2058 10.1953 23.4687L10.9052 27H17.0937L17.8036 23.4687C18.3914 23.2068 18.9503 22.8851 19.4714 22.5087L22.9058 23.664L26 18.336L23.2766 15.9578C23.3424 15.3209 23.3424 14.6791 23.2766 14.0422L25.9989 11.664L22.9047 6.336L19.4725 7.49018C18.9513 7.11416 18.3924 6.79281 17.8047 6.53127L17.0937 3ZM13.9994 19.3636C12.8354 19.3636 11.7191 18.9039 10.896 18.0856C10.0729 17.2672 9.61048 16.1573 9.61048 15C9.61048 13.8427 10.0729 12.7328 10.896 11.9144C11.7191 11.0961 12.8354 10.6364 13.9994 10.6364C15.1635 10.6364 16.2798 11.0961 17.1029 11.9144C17.926 12.7328 18.3884 13.8427 18.3884 15C18.3884 16.1573 17.926 17.2672 17.1029 18.0856C16.2798 18.9039 15.1635 19.3636 13.9994 19.3636Z"
      fill="currentColor"
    />
  </svg>
  ) },
];

interface SidebarProps {
  activeTab: string;
  setActiveTab: (tabId: string) => void;
}

export default function Sidebar({ activeTab, setActiveTab }: SidebarProps) {
  const router = useRouter();
  const pathname = usePathname();
  
  return (
    // fixed top-0 left-0 w-full h-16 flex items-center justify-between px-8 py-4
    <div className="fixed top-16 left-0 p-2 w-[240px] h-full px-4 py-5 bg-white">
      <nav className="flex w-full flex-col gap-2">
        {tabs.map((tab) => {
          const isActive = pathname.startsWith(`/${tab.id}`);

          return (
            <button
              key={tab.id}
              onClick={() => router.push(`/${tab.id}`)}
              className={`flex w-full items-center px-4 pr-5 py-3 gap-2 rounded-xl text-[20px] transition ${
                isActive
                  ? "bg-indigo-600 text-white font-bold"
                  : "text-indigo-600 hover:bg-gray-100"
              }`}
            >
              <span>{tab.icon}</span>
              <p className="text-xl text-left capitalize">{tab.label}</p>
            </button>
          );
        })}
      </nav>
    </div>
  );
};